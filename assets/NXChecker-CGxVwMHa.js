import{j as e,m as o}from"./framer-motion-DORXFKSY.js";import{a as u,e as b}from"./react-vendor-n8-9m1E7.js";import{u as x}from"./index-PykM2RrW.js";import{P as p}from"./PageTransition-CYfK23sm.js";import{f as g,g as f,d,b as w}from"./lucide-icons-BL5jV39b.js";const y=s=>{if(!s)return{status:"error",message:"Please enter a valid serial number.",color:"red"};const t=s.trim().toUpperCase();if(t.startsWith("XKW1")||t.startsWith("XKJ1")||t.startsWith("XJW1")||t.startsWith("XWW1"))return{status:"oled",message:"Patched console (Mariko/OLED)",color:"red"};if(t.startsWith("XTW"))return{status:"oled",message:"Not compatible - OLED Mariko console",color:"red"};if(t.startsWith("XKJ"))return{status:"mariko",message:"Patched Switch - Mariko console",color:"red"};if(t.startsWith("XKW"))return{status:"oled",message:"Not compatible - OLED Mariko console",color:"red"};if(t.startsWith("XJE")||t.startsWith("XJW"))return{status:"lite",message:"Not compatible - Lite Mariko console",color:"red"};if(t.length<14)return{status:"unknown",message:"Invalid serial number format - too short",color:"red"};const i=t.substring(0,4),c=t.substring(4,10),l=parseInt(c,10);if(isNaN(l)||c.length!==6)return{status:"unknown",message:"Invalid serial number format - cannot parse numeric portion",color:"red"};const n={XAW1:{success:7400,warning:12e3},XAW4:{success:1100,warning:1200},XAW7:{success:1780,warning:3e3},XAJ1:{success:2e3,warning:3e3},XAJ4:{success:4600,warning:6e3},XAJ7:{success:4e3,warning:5e3}}[i];if(!n)return{status:"unknown",message:"Unknown serial number",color:"red"};if(l<n.success)return{status:"success",message:"Unpatched Switch - 100% hackable via RCM",color:"green"};const m=t.substring(4),a={XAW1:"0120000000",XAW4:"0012000000",XAW7:"0030000000",XAJ1:"0030000000",XAJ4:"0060000000",XAJ7:"0050000000"}[i];return l<n.warning?{status:"warning",message:"Potentially patched - might be hackable, but likely not",color:"yellow"}:l===n.warning&&a&&m<=a?{status:"warning",message:"Potentially patched - might be hackable, but likely not",color:"yellow"}:{status:"error",message:"Patched Switch - 100% unhackable via RCM",color:"red"}},N=()=>{const[s,t]=u.useState(null),{t:i}=x();return{checkCompatibility:l=>{const r=l.toUpperCase().trim();if(console.log("Analyzed serial number:",r),r.startsWith("HAE")||r.startsWith("HAW")){t({status:"hae",message:i("nxChecker.results.hae"),color:"red"});return}const n=y(r);t(n)},result:s}},X=()=>{const{t:s}=x(),[t]=b(),[i,c]=u.useState(""),{checkCompatibility:l,result:r}=N(),[n,m]=u.useState(!1);u.useEffect(()=>{const a=t.get("serial");a&&(c(a),l(a)),m(!0)},[]),u.useEffect(()=>{if(n&&i){const a=new URLSearchParams(t);a.set("serial",i),window.history.replaceState(null,"",`?${a.toString()}`)}},[i,n]);const h=a=>{a.preventDefault(),l(i)};return e.jsx(p,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 pt-32 pb-16 relative overflow-hidden",children:[e.jsx(o.div,{className:"absolute inset-0",initial:{opacity:0},animate:{opacity:.1},transition:{duration:1},children:e.jsx("div",{className:"absolute inset-0 bg-[url('/nx/console.jpg')] bg-cover bg-center bg-no-repeat opacity-40"})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsxs(o.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,type:"spring"},children:[e.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 text-transparent bg-clip-text mb-4","data-testid":"title",children:s("nxChecker.title")}),e.jsx("p",{className:"text-xl text-blue-300 mb-4",children:s("nxChecker.subtitle")})]})}),e.jsxs(o.div,{className:"bg-gray-800/90 backdrop-blur-xl rounded-xl shadow-2xl p-6 mb-6 border border-blue-500/20",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8},children:[e.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(o.div,{whileHover:{rotate:180},transition:{duration:.5},children:e.jsx(g,{className:"w-8 h-8 text-blue-400"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-medium text-blue-300 mb-2",children:s("nxChecker.help.title")}),e.jsx("p",{className:"text-gray-300",children:s("nxChecker.help.description")})]})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-gray-300 mb-2",children:s("nxChecker.serialNumber.label")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"serialNumber",maxLength:14,value:i,onChange:a=>c(a.target.value),className:"block w-full px-4 py-3 bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition-all duration-300",placeholder:s("nxChecker.serialNumber.placeholder"),"aria-label":s("nxChecker.serialNumber.placeholder"),"aria-required":"true","aria-describedby":"serialNumber-help"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none","aria-hidden":"true",children:e.jsx(f,{className:"h-5 w-5 text-blue-400"})})]})]}),e.jsx(o.button,{type:"submit",className:"w-full flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300 relative overflow-hidden shadow-lg shadow-blue-500/20",whileHover:{scale:1.02},whileTap:{scale:.98},"aria-label":s("nxChecker.button"),children:e.jsxs(e.Fragment,{children:[s("nxChecker.button"),e.jsx(d,{className:"ml-2 h-5 w-5","aria-hidden":"true"})]})})]})]}),r&&e.jsx(o.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,type:"spring"},className:`bg-gray-800/90 backdrop-blur-xl rounded-xl shadow-2xl p-6 mb-6 border-2 ${r.status==="success"?"border-green-500":r.status==="warning"?"border-yellow-500":"border-red-500"}`,role:"alert","aria-live":"polite","aria-atomic":"true",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0","aria-hidden":"true",children:e.jsx(o.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},children:e.jsx(w,{className:`w-6 h-6 ${r.status==="success"?"text-green-500":r.status==="warning"?"text-yellow-500":"text-red-500"}`})})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium mb-2 ${r.status==="success"?"text-green-500":r.status==="warning"?"text-yellow-500":"text-red-500"}`,children:s("nxChecker.results.title")}),e.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:s(`nxChecker.results.${r.status}`)})]})]})}),e.jsxs(o.div,{className:"bg-gray-800/90 backdrop-blur-xl rounded-xl shadow-2xl p-6 mb-4 border border-blue-500/20",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.2},children:[e.jsx("h3",{className:"text-xl font-medium text-blue-300 mb-4",children:s("nxChecker.importantInfo.title")}),e.jsxs("ul",{className:"space-y-4 text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(d,{className:"w-5 h-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:s("nxChecker.importantInfo.preJune2018")})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(d,{className:"w-5 h-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:s("nxChecker.importantInfo.incompatibleModels")})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(d,{className:"w-5 h-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:s("nxChecker.importantInfo.disclaimer")})]})]})]})]})]})})};export{X as default};
