import{j as e,m as D}from"./framer-motion-DORXFKSY.js";import{P as K}from"./PageTransition-CYfK23sm.js";import{u as B,S as Q}from"./index-PykM2RrW.js";import{V as Z,Y as ee,_ as te,$ as se,E as re,a0 as ae,w as le,l as oe,a1 as ne,d as ie,g as ce,a2 as X,a3 as de,a4 as xe,A as me}from"./lucide-icons-BL5jV39b.js";import{d as he,e as ue,a as m}from"./react-vendor-n8-9m1E7.js";const ge=({project:t,index:h})=>{const{t:i}=B(),p=u=>new Date(u).toLocaleDateString(),n=u=>u>=1e3?(u/1e3).toFixed(1)+"k":u.toString(),b=()=>{window.open(t.projectFullUrl,"_blank","noopener,noreferrer")};return e.jsxs("div",{onClick:b,className:"group block bg-gray-800/90 backdrop-blur-sm rounded-xl p-5 shadow-xl border border-gray-700/60 hover:border-blue-500/40 hover:shadow-blue-500/10 transition-all duration-300 cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:t.name}),e.jsx(Z,{className:"w-4 h-4 text-gray-500 group-hover:text-blue-400 transition-colors duration-200"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("img",{src:t.authorAvatar,alt:t.author,className:"w-5 h-5 rounded-full",onError:u=>{u.currentTarget.style.display="none"}}),e.jsxs("span",{className:"text-xs text-gray-500",children:["by ",t.author]})]}),t.description&&e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed line-clamp-2",children:t.description})}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"w-3 h-3"}),e.jsx("span",{children:n(t.stars)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3"}),e.jsx("span",{children:n(t.forks)})]}),t.language&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"w-3 h-3"}),e.jsx("span",{children:t.language})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(re,{className:"w-3 h-3 text-blue-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-400",children:i("nxProjects.projectCard.version")}),e.jsx("span",{className:"text-white font-medium ml-auto",children:t.latestVersion})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ae,{className:"w-3 h-3 text-green-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-400",children:i("nxProjects.projectCard.requiredFirmware")}),e.jsx("span",{className:`font-medium ml-auto ${t.requiredFirmware==="Non disponible"?"text-yellow-400":"text-white"}`,children:t.requiredFirmware})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{className:"w-3 h-3 text-purple-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-400",children:i("nxProjects.projectCard.releaseDate")}),e.jsx("span",{className:"text-white font-medium ml-auto",children:p(t.latestReleaseDate)})]})]})]})},pe=({currentPage:t,totalPages:h,onPageChange:i,itemsPerPage:p,totalItems:n,startIndex:b,endIndex:u,onItemsPerPageChange:v})=>{const{t:j}=B(),S=()=>{const w=[],x=[];for(let y=Math.max(2,t-2);y<=Math.min(h-1,t+2);y++)w.push(y);return t-2>2?x.push(1,"..."):x.push(1),x.push(...w),t+2<h-1?x.push("...",h):x.push(h),x};return h<=1&&p!==-1?null:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8",children:[v&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx("span",{children:j("nxProjects.filters.pagination.show")}),e.jsxs("select",{value:p,onChange:a=>v(Number(a.target.value)),className:"bg-gray-800/50 border border-gray-700/50 rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-blue-500/50",children:[e.jsx("option",{value:6,children:"6"}),e.jsx("option",{value:12,children:"12"}),e.jsx("option",{value:24,children:"24"}),e.jsx("option",{value:48,children:"48"}),e.jsx("option",{value:-1,children:j("nxProjects.filters.pagination.showAll")})]}),e.jsx("span",{children:j("nxProjects.filters.pagination.perPage")})]}),e.jsx("div",{className:"text-sm text-gray-400",children:j("nxProjects.filters.pagination.showing").replace("{start}",b.toString()).replace("{end}",u.toString()).replace("{total}",n.toString())}),p!==-1&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>i(t-1),disabled:t===1,className:"p-2 rounded-lg bg-gray-800/50 border border-gray-700/50 text-gray-400 hover:text-white hover:border-blue-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:e.jsx(oe,{className:"w-4 h-4"})}),S().map((a,w)=>e.jsx(he.Fragment,{children:a==="..."?e.jsx("div",{className:"px-3 py-2 text-gray-400",children:e.jsx(ne,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>i(a),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${t===a?"bg-blue-600 text-white border border-blue-500":"bg-gray-800/50 border border-gray-700/50 text-gray-400 hover:text-white hover:border-blue-500/50"}`,children:a})},w)),e.jsx("button",{onClick:()=>i(t+1),disabled:t===h,className:"p-2 rounded-lg bg-gray-800/50 border border-gray-700/50 text-gray-400 hover:text-white hover:border-blue-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:e.jsx(ie,{className:"w-4 h-4"})})]})]})},je=()=>{const[t,h]=ue(),[i,p]=m.useState([]),[n,b]=m.useState([]),[u,v]=m.useState(!0),[j,S]=m.useState(null),[a,w]=m.useState(t.get("q")||""),[x,y]=m.useState(t.get("lang")||""),[f,R]=m.useState(t.get("fw")||""),[C,T]=m.useState(t.get("sort")||"stars"),[P,U]=m.useState(t.get("order")||"desc"),[L,k]=m.useState(parseInt(t.get("page")||"1")),[g,E]=m.useState(parseInt(t.get("perPage")||"12")),W=[...new Set(i.map(s=>s.language).filter(Boolean))].sort(),V=[...new Set(i.map(s=>s.requiredFirmware))].sort(),N=s=>{const r=new URLSearchParams(t);let c=!1;Object.entries(s).forEach(([o,d])=>{const A=r.get(o),$=d===""||d===0||d==="1"?null:d.toString();A!==$&&(c=!0,$===null?r.delete(o):r.set(o,$))}),c&&h(r,{replace:!0})},I=s=>{if(a!==s){w(s);const r=new URL(window.location.href);s.trim()?r.searchParams.set("q",s):r.searchParams.delete("q"),r.searchParams.delete("page"),window.history.replaceState({},"",r.toString())}},l=s=>{x!==s&&(y(s),N({lang:s,page:1}))},F=s=>{f!==s&&(R(s),N({fw:s,page:1}))},_=s=>{C!==s&&(T(s),N({sort:s}))},H=s=>{P!==s&&(U(s),N({order:s}))},z=s=>{L!==s&&(k(s),N({page:s}))},G=s=>{g!==s&&(E(s),N({perPage:s,page:1}))},O=()=>{w(""),y(""),R(""),k(1),T("stars"),U("desc"),E(12),h({},{replace:!0})},Y=g===-1?1:Math.ceil(n.length/g),q=g===-1?0:(L-1)*g,M=g===-1?n.length:q+g,J=g===-1?n:n.slice(q,M);return m.useEffect(()=>{let s=i;a.trim()&&(s=s.filter(r=>r.name.toLowerCase().includes(a.toLowerCase())||r.author.toLowerCase().includes(a.toLowerCase())||r.description.toLowerCase().includes(a.toLowerCase())||r.language.toLowerCase().includes(a.toLowerCase()))),x&&(s=s.filter(r=>r.language===x)),f&&(s=s.filter(r=>r.requiredFirmware===f)),s.sort((r,c)=>{let o,d;switch(C){case"name":o=r.name.toLowerCase(),d=c.name.toLowerCase();break;case"author":o=r.author.toLowerCase(),d=c.author.toLowerCase();break;case"stars":o=Number(r.stars),d=Number(c.stars);break;case"forks":o=Number(r.forks),d=Number(c.forks);break;case"latestReleaseDate":o=new Date(r.latestReleaseDate),d=new Date(c.latestReleaseDate);break;case"lastUpdated":o=new Date(r.lastUpdated),d=new Date(c.lastUpdated);break;default:o=r.stars,d=c.stars}return o<d?P==="desc"?1:-1:o>d?P==="desc"?-1:1:0}),b(s)},[i,a,x,f,C,P]),m.useEffect(()=>{if((a||x||f)&&L!==1){k(1);const r=new URL(window.location.href);r.searchParams.set("page","1"),window.history.replaceState({},"",r.toString())}},[a,x,f]),m.useEffect(()=>{(async()=>{const r=performance.now();console.log("Starting to fetch NX projects data from nxhub.pw/data/projects.json...");try{v(!0),S(null);const c=await fetch("https://nxhub.pw/data/projects.json");if(!c.ok)throw new Error("Failed to fetch projects data from nxhub.pw/data/projects.json");const o=await c.json();console.log(`Loaded ${o.projects.length} projects from nxhub.pw/data/projects.json`);const A=((performance.now()-r)/1e3).toFixed(2);console.log(`Successfully loaded all projects in ${A} seconds`),console.log(`Projects loaded: ${o.projects.length}`),console.log(`Average time per project: ${(parseFloat(A)/o.projects.length).toFixed(3)} seconds`),p(o.projects)}catch(c){const d=((performance.now()-r)/1e3).toFixed(2);console.error(`Error loading NX projects after ${d} seconds:`,c),S(c instanceof Error?c.message:"An error occurred while loading projects")}finally{v(!1)}})()},[]),{projects:J,allProjects:n,loading:u,error:j,searchTerm:a,setSearchTerm:I,totalProjects:i.length,selectedLanguage:x,setSelectedLanguage:l,selectedFirmware:f,setSelectedFirmware:F,sortBy:C,setSortBy:_,sortDirection:P,setSortDirection:H,languages:W,firmwareVersions:V,currentPage:L,setCurrentPage:z,totalPages:Y,itemsPerPage:g,setItemsPerPage:G,startIndex:g===-1?1:q+1,endIndex:g===-1?n.length:Math.min(M,n.length),clearAllFilters:O}},ve=()=>{const{t}=B(),{projects:h,allProjects:i,loading:p,error:n,searchTerm:b,setSearchTerm:u,totalProjects:v,selectedLanguage:j,setSelectedLanguage:S,selectedFirmware:a,setSelectedFirmware:w,sortBy:x,setSortBy:y,sortDirection:f,setSortDirection:R,languages:C,firmwareVersions:T,currentPage:P,setCurrentPage:U,totalPages:L,itemsPerPage:k,setItemsPerPage:g,startIndex:E,endIndex:W,clearAllFilters:V}=je(),N=()=>{R(f==="asc"?"desc":"asc")},I=()=>{V()};return e.jsx(K,{children:e.jsxs("div",{className:"min-h-screen pt-32 pb-16 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-[0.03]"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[e.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center mb-12",children:[e.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 text-transparent bg-clip-text mb-4",children:t("nxProjects.title")}),e.jsx("p",{className:"text-xl text-blue-200/80 mb-6",children:t("nxProjects.subtitle")})]}),e.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},className:"mb-8",children:[e.jsxs("div",{className:"max-w-md mx-auto relative mb-6",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:t("nxProjects.filters.searchPlaceholder"),value:b,onChange:l=>u(l.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/20 transition-all duration-200"})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:j,onChange:l=>S(l.target.value),className:"bg-gray-800/50 border border-gray-700/50 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500/50",children:[e.jsx("option",{value:"",children:t("nxProjects.filters.allLanguages")}),C.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:a,onChange:l=>w(l.target.value),className:"bg-gray-800/50 border border-gray-700/50 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500/50",children:[e.jsx("option",{value:"",children:t("nxProjects.filters.allFirmware")}),T.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:x,onChange:l=>y(l.target.value),className:"bg-gray-800/50 border border-gray-700/50 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500/50",children:[e.jsx("option",{value:"stars",children:t("nxProjects.sort.stars")}),e.jsx("option",{value:"forks",children:t("nxProjects.sort.forks")}),e.jsx("option",{value:"name",children:t("nxProjects.sort.name")}),e.jsx("option",{value:"author",children:t("nxProjects.sort.author")}),e.jsx("option",{value:"latestReleaseDate",children:t("nxProjects.sort.latestRelease")}),e.jsx("option",{value:"lastUpdated",children:t("nxProjects.sort.lastUpdated")})]}),e.jsx("button",{onClick:N,className:"p-2 bg-gray-800/50 border border-gray-700/50 rounded-lg hover:border-blue-500/50 transition-colors duration-200",children:f==="asc"?e.jsx(de,{className:"w-4 h-4 text-gray-400"}):e.jsx(xe,{className:"w-4 h-4 text-gray-400"})})]}),(b||j||a)&&e.jsx("button",{onClick:I,className:"px-3 py-2 bg-gray-700/50 border border-gray-600/50 rounded-lg text-gray-300 text-sm hover:bg-gray-600/50 transition-colors duration-200",children:t("nxProjects.filters.clearFilters")})]}),(b||j||a)&&e.jsx("div",{className:"text-center text-sm text-gray-400",children:t("nxProjects.filters.showingResults").replace("{count}",h.length.toString()).replace("{total}",v.toString())})]}),p&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((l,F)=>e.jsx(Q,{},F))}),n&&e.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 mb-8",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(me,{className:"w-5 h-5 text-red-400"}),e.jsx("p",{className:"text-red-400",children:n})]})}),!p&&!n&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((l,F)=>e.jsx(ge,{project:l,index:F},l.name))}),!p&&!n&&i.length>0&&e.jsx(pe,{currentPage:P,totalPages:L,onPageChange:U,itemsPerPage:k,totalItems:i.length,startIndex:E,endIndex:W,onItemsPerPageChange:g}),!p&&!n&&i.length===0&&(b||j||a)&&e.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-400 text-lg",children:t("nxProjects.filters.noResults")}),e.jsx("button",{onClick:I,className:"mt-4 text-blue-400 hover:text-blue-300 transition-colors duration-200",children:t("nxProjects.filters.clearAllFilters")})]}),e.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"mt-16 bg-gray-800/50 rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:t("nxProjects.about.title")}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-gray-300",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Atmosphere"}),e.jsx("p",{className:"text-sm",children:t("nxProjects.about.atmosphere")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Hekate"}),e.jsx("p",{className:"text-sm",children:t("nxProjects.about.hekate")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Lockpick_RCM"}),e.jsx("p",{className:"text-sm",children:t("nxProjects.about.lockpick")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"TegraExplorer"}),e.jsx("p",{className:"text-sm",children:t("nxProjects.about.tegraExplorer")})]})]})]})]})]})})};export{ve as default};
