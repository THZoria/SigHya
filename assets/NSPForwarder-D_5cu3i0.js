import{j as e,m as x,A as _}from"./framer-motion-DORXFKSY.js";import{a as l}from"./react-vendor-n8-9m1E7.js";import{P as Se}from"./PageTransition-CYfK23sm.js";import{u as ke}from"./index-PykM2RrW.js";import{I as ae,n as Ue,o as Pe,p as se,q as ne,h as Ce,r as Ae,b as Re,P as Ee}from"./lucide-icons-BL5jV39b.js";const Te=new TextEncoder,q=new TextDecoder;var J=(t=>(t[t.Disabled=0]="Disabled",t[t.Enabled=1]="Enabled",t[t.Automatic=2]="Automatic",t))(J||{});function Q(t,r,n){const a=Te.encode(t);if(a.length>=r)throw new TypeError(`"${n}" length must be <= ${r-1} bytes, got ${a.length}`);const i=new Uint8Array(r);return i.set(a),i}function Ie(t){let r=t;if(typeof r=="string"){if(r.length>16)throw new TypeError(`"id" length must be 16, got ${r.length}`);r=BigInt(`0x${t}`)}return r}class oe{buffer;#e;constructor(r){if(r)this.buffer=r,this.#e=new DataView(this.buffer);else{this.buffer=new ArrayBuffer(16384),this.#e=new DataView(this.buffer),this.#e.setUint32(12324,256,!0),this.#e.setUint32(12332,3071,!0),this.#e.setUint32(12340,65536,!0);const n=new Uint8Array([12,255,255,10,255,12,12,12,12,12,13,13,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);new Uint8Array(this.buffer,12352,n.length).set(n),this.#e.setUint32(12416,65011712,!0),this.#e.setUint32(12424,1572864,!0),this.#e.setUint32(12528,258,!0)}}get title(){const r=new Uint8Array(this.buffer,0,512);return q.decode(r).replace(/\0*$/,"")}set title(r){const n=Q(r,512,"title");for(let a=0;a<12;a++)new Uint8Array(this.buffer,a*768,n.length).set(n)}get author(){const r=new Uint8Array(this.buffer,512,256);return q.decode(r).replace(/\0*$/,"")}set author(r){const n=Q(r,256,"author");for(let a=0;a<12;a++)new Uint8Array(this.buffer,a*768+512,n.length).set(n)}set id(r){const n=Ie(r);this.#e.setBigUint64(12344,n,!0),this.#e.setBigUint64(12408,n,!0),this.#e.setBigUint64(12400,n+0x1000n,!0);for(let a=0;a<8;a++)this.#e.setBigUint64(12464+a*8,n,!0)}get id(){return this.#e.getBigUint64(12344,!0)}set startupUserAccount(r){this.#e.setUint8(12325,r)}get startupUserAccount(){return this.#e.getUint8(12325)}set screenshot(r){this.#e.setUint8(12340,r)}get screenshot(){return this.#e.getUint8(12340)}set videoCapture(r){this.#e.setUint8(12341,r)}get videoCapture(){return this.#e.getUint8(12341)}get version(){const r=new Uint8Array(this.buffer,12384,16);return q.decode(r).replace(/\0*$/,"")}set version(r){const n=Q(r,16,"version");new Uint8Array(this.buffer,12384,n.length).set(n)}set logoType(r){this.#e.setUint8(12528,r)}get logoType(){return this.#e.getUint8(12528)}set logoHandling(r){this.#e.setUint8(12529,r)}get logoHandling(){return this.#e.getUint8(12529)}}async function Be(t){return new Promise((r,n)=>{const a=new Image,i=document.createElement("canvas"),d=i.getContext("2d");if(!d){n(new Error("Failed to get canvas context"));return}a.onload=()=>{i.width=256,i.height=256,d.imageSmoothingEnabled=!0,d.imageSmoothingQuality="high";const o=Math.min(256/a.width,256/a.height),g=(256-a.width*o)/2,p=(256-a.height*o)/2;d.fillStyle="#000000",d.fillRect(0,0,256,256),d.drawImage(a,g,p,a.width*o,a.height*o),i.toBlob(b=>{if(!b){n(new Error("Failed to convert image to JPEG"));return}r(b)},"image/jpeg",.95)},a.onerror=()=>n(new Error("Failed to load image")),a.src=URL.createObjectURL(t)})}async function $e(t){return new Promise((r,n)=>{const a=new Image,i=document.createElement("canvas"),d=i.getContext("2d");if(!d){n(new Error("Failed to get canvas context"));return}a.onload=()=>{i.width=160,i.height=40,d.imageSmoothingEnabled=!0,d.imageSmoothingQuality="high";const o=Math.min(160/a.width,40/a.height),g=(160-a.width*o)/2,p=(40-a.height*o)/2;d.clearRect(0,0,160,40),d.drawImage(a,g,p,a.width*o,a.height*o),i.toBlob(b=>{if(!b){n(new Error("Failed to convert logo to PNG"));return}r(b)},"image/png",1)},a.onerror=()=>n(new Error("Failed to load logo image")),a.src=URL.createObjectURL(t)})}async function De(t){return t}function Z(){let t="01";for(let r=0;r<10;r++)t+=Math.floor(Math.random()*16).toString(16);return t+="0000",t}async function T(t){const r=await fetch(t);if(!r.ok)throw new Error(`Failed to fetch "${t}": ${await r.text()}`);const n=await r.arrayBuffer();return new Uint8Array(n)}async function Me(t){try{const r=t.titleId||Z(),n=t.mode==="nro"?t.appTitle:t.gameTitle,a=t.mode==="nro"?t.nroPath:t.corePath,i=new Worker("/nsp-forwarder/generate-worker.js"),d=new Promise(u=>{i.onmessage=B=>{u(B.data),i.terminate()}}),o=new oe;o.id=r,o.title=n,o.author=t.publisher,o.version=t.version||"1.0.0",o.startupUserAccount=t.enableProfileSelector?1:0,o.screenshot=t.enableScreenshots!==!1?0:1,o.videoCapture=t.enableVideoCapture?J.Automatic:J.Disabled,o.logoType=t.logoType!==void 0?t.logoType:2,o.logoHandling=0;let g=a;g.startsWith("/")||(g=`/${g}`);const p=`sdmc:${g}`;let b=p;if(t.mode==="retroarch"){let u=t.romPath;u.startsWith("/")||(u=`/${u}`),b+=` "sdmc:${u}"`}const N=t.imageFile?await Be(t.imageFile):null;if(!N)throw new Error("Image file is required");const U=t.logoFile?await $e(t.logoFile):null,P=t.animationFile?await De(t.animationFile):null,[f,I,v,C,F,j]=await Promise.all([t.prodKeysFile.arrayBuffer().then(u=>new Uint8Array(u)),N.arrayBuffer().then(u=>new Uint8Array(u)),U?.arrayBuffer().then(u=>new Uint8Array(u))||T("/nsp-forwarder/template/logo/NintendoLogo.png"),P?.arrayBuffer().then(u=>new Uint8Array(u))||T("/nsp-forwarder/template/logo/StartupMovie.gif"),T("/nsp-forwarder/template/exefs/main"),T("/nsp-forwarder/template/exefs/main.npdm")]);t.enableSvcDebug&&(j[818]=j[1010]=8);const S={argv:["--nopatchnacplogo","--titleid",r,"--plaintext"],keys:f,controlNacp:new Uint8Array(o.buffer),main:F,mainNpdm:j,image:I,logo:v,startupMovie:C,nextArgv:b,nextNroPath:p};i.postMessage(S);const w=await d;if(w.exitCode===0&&w.nsp)return w.nsp;throw console.error("NSP generation failed:",w.logs),new Le(w.exitCode,w.logs)}catch(r){throw new Error(`NSP generation failed: ${r instanceof Error?r.message:"Unknown error"}`)}}class Le extends Error{exitCode;logs;constructor(r,n){super("Failed to generate NSP file"),this.exitCode=r,this.logs=n}}const le=new TextDecoder;async function Oe(t){const n=await t.slice(16,20).arrayBuffer();return le.decode(n)==="NRO0"}async function Ge(t){const r=await t.slice(24,28).arrayBuffer();return new DataView(r).getUint32(0,!0)}async function He(t,r){const n=r+56,a=await t.slice(r,n).arrayBuffer();if(le.decode(a.slice(0,4))!=="ASET")throw new Error("Failed to find asset header of NRO");return a}async function ie(t,r){const n=await Ge(t),a=await He(t,n),i=new DataView(a),d=i.getUint32(r,!0),o=i.getUint32(r+8,!0);if(o===0)return null;const g=n+d,p=g+o;return t.slice(g,p)}function Ke(t){return ie(t,8)}async function We(t){const r=await ie(t,24);if(!r)throw new Error("NACP asset section has size 0");const n=await r.arrayBuffer();return new oe(n)}const Je=()=>{const{t}=ke(),[r,n]=l.useState("nro"),[a,i]=l.useState(!1),[d,o]=l.useState(""),[g,p]=l.useState(null),[b,N]=l.useState(null),[U,P]=l.useState(""),[f,I]=l.useState(null),[v,C]=l.useState(""),[F,j]=l.useState(""),[S,w]=l.useState("/switch/appstore/appstore.nro"),[u,B]=l.useState(""),[$,ce]=l.useState(""),[D,de]=l.useState("/retroarch/cores/snes9x_libretro_libnx.nro"),[M,ue]=l.useState("/ROMs/SNES/Super Mario World.smc"),[c,me]=l.useState(!1),[L,X]=l.useState("1.0.0"),[O,G]=l.useState("010"+"0".repeat(14)),[A,ge]=l.useState(null),[R,he]=l.useState(null),[H,be]=l.useState(!0),[K,xe]=l.useState(!1),[W,pe]=l.useState(!1),[z,fe]=l.useState(!1),[E,ye]=l.useState(2),Y=l.useRef(null),V=l.useRef(null),ee=l.useRef(null),te=l.useRef(null),re=l.useRef(null),we=s=>{const m=s.target.files?.[0];if(m){if(!m.type.startsWith("image/")){o(t("nspForwarder.errors.invalidImageFormat"));return}N(m),o("");const h=new FileReader;h.onloadend=()=>P(h.result),h.readAsDataURL(m)}},ve=async s=>{const m=s.target.files?.[0];if(m&&(p(m),o(""),await Oe(m)))try{const h=await We(m);C(h.title),j(h.author),X(h.version);const y=await Ke(m);if(y){N(new File([y],"icon.jpg",{type:"image/jpeg"}));const k=new FileReader;k.onloadend=()=>P(k.result),k.readAsDataURL(y)}G(Z())}catch(h){console.error("Failed to extract NRO metadata:",h)}},je=s=>{const m=s.target.files?.[0];m&&(I(m),o(""))},Ne=()=>{G(Z())},Fe=async()=>{o(""),i(!0);try{let s;if(r==="nro"){if(!v||!F||!S||!f){o(t("nspForwarder.errors.missingFields"));return}s={mode:"nro",appTitle:v,publisher:F,nroPath:S,nroFile:g,imageFile:b,prodKeysFile:f,titleId:c?O:void 0,version:c?L:void 0,logoFile:c?A:void 0,animationFile:c?R:void 0,logoType:c?E:void 0,enableScreenshots:c?H:!0,enableVideoCapture:c?K:!1,enableProfileSelector:c?W:!1,enableSvcDebug:c?z:!1}}else if(r==="retroarch"){if(!u||!$||!D||!M||!f){o(t("nspForwarder.errors.missingFields"));return}s={mode:"retroarch",gameTitle:u,publisher:$,corePath:D,romPath:M,imageFile:b,prodKeysFile:f,titleId:c?O:void 0,version:c?L:void 0,logoFile:c?A:void 0,animationFile:c?R:void 0,logoType:c?E:void 0,enableScreenshots:c?H:!0,enableVideoCapture:c?K:!1,enableProfileSelector:c?W:!1,enableSvcDebug:c?z:!1}}else{o(t("nspForwarder.errors.invalidMode"));return}const m=await Me(s),h=URL.createObjectURL(m),y=document.createElement("a");y.href=h;const k=r==="nro"?v:u;y.download=`${k.replace(/[^a-z0-9]/gi,"_")}.nsp`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(h)}catch(s){o(s instanceof Error?s.message:t("nspForwarder.errors.generationFailed"))}finally{i(!1)}};return e.jsx(Se,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 pt-32 pb-16 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-[0.03]"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[e.jsx(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,type:"spring"},className:"text-center mb-12",children:e.jsxs(x.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,type:"spring"},children:[e.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 text-transparent bg-clip-text mb-4",children:t("nspForwarder.title")}),e.jsx("p",{className:"text-xl text-blue-300 mb-4",children:t("nspForwarder.subtitle")})]})}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-4xl mx-auto mb-8",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-xl rounded-xl p-4 border border-blue-500/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ae,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-blue-200/80",children:t("nspForwarder.warning.local")}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t("nspForwarder.credit")})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-5",children:[e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-800/90 backdrop-blur-xl rounded-xl p-2 border border-blue-500/20 shadow-xl",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>n("nro"),className:`px-4 py-2.5 rounded-lg font-medium transition-all ${r==="nro"?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/20":"text-gray-400 hover:text-gray-200 hover:bg-gray-700/50"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5"}),e.jsx("span",{children:t("nspForwarder.tabs.nro")})]})}),e.jsx("button",{onClick:()=>n("retroarch"),className:`px-4 py-2.5 rounded-lg font-medium transition-all ${r==="retroarch"?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/20":"text-gray-400 hover:text-gray-200 hover:bg-gray-700/50"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Pe,{className:"w-5 h-5"}),e.jsx("span",{children:t("nspForwarder.tabs.retroarch")})]})}),e.jsx("label",{className:"cursor-pointer",children:e.jsxs("div",{className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg transition-all ${c?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/20":"text-gray-400 hover:text-gray-200 hover:bg-gray-700/50"}`,children:[e.jsx("input",{type:"checkbox",checked:c,onChange:s=>me(s.target.checked),className:"hidden"}),e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:t("nspForwarder.tabs.advanced")}),c&&e.jsx(ne,{className:"w-4 h-4"})]})})]})}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-800/90 backdrop-blur-xl rounded-xl border border-blue-500/20 shadow-xl",children:[e.jsx("div",{onClick:()=>{r==="nro"?g?V.current?.click():Y.current?.click():V.current?.click()},className:"relative group border-2 border-dashed border-blue-500/30 hover:border-blue-500/60 rounded-xl p-6 transition-all cursor-pointer bg-gray-900/30",children:e.jsx("div",{className:"relative",children:e.jsx(_,{mode:"wait",children:U?e.jsxs(x.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex flex-col items-center",children:[e.jsx("img",{src:U,alt:"Preview",className:"w-40 h-40 object-cover rounded-lg shadow-lg ring-2 ring-blue-500/20"}),e.jsx("p",{className:"text-sm text-gray-400 mt-3 text-center",children:t("nspForwarder.upload.clickToChangeImage")})]},"preview"):e.jsxs(x.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-blue-500/10 flex items-center justify-center mb-3",children:e.jsx(Ce,{className:"w-8 h-8 text-blue-400"})}),e.jsx("p",{className:"text-sm text-gray-300 font-medium mb-1",children:t(r==="nro"?g?"nspForwarder.upload.selectImage":"nspForwarder.upload.selectNro":"nspForwarder.upload.selectBoxArt")}),e.jsx("p",{className:"text-xs text-gray-500",children:r==="nro"&&!g&&t("nspForwarder.upload.nroOrImage")})]},"upload")})})}),e.jsx("input",{ref:Y,type:"file",accept:".nro",onChange:ve,className:"hidden"}),e.jsx("input",{ref:V,type:"file",accept:"image/*",onChange:we,className:"hidden"})]}),e.jsx(_,{children:c&&e.jsx(x.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl border border-blue-500/20 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-base font-semibold text-blue-300",children:"Options avancÃ©es"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t("nspForwarder.form.logoType.label")}),e.jsxs("select",{value:E,onChange:s=>ye(Number(s.target.value)),className:"w-full px-3 py-2 text-sm bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition-all duration-300",children:[e.jsx("option",{value:"0",children:t("nspForwarder.form.logoType.textAbove")}),e.jsx("option",{value:"2",children:t("nspForwarder.form.logoType.custom")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t("nspForwarder.form.version.label")}),e.jsx("input",{type:"text",value:L,onChange:s=>X(s.target.value),placeholder:"1.0.0",className:"w-full px-3 py-2 text-sm bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition-all duration-300"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t("nspForwarder.form.titleId.label")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:O,onChange:s=>G(s.target.value.toUpperCase()),maxLength:16,className:"flex-1 px-3 py-2 text-sm bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-white font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition-all duration-300"}),e.jsx("button",{onClick:Ne,className:"px-3 py-2 bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/30 rounded-xl text-blue-400 transition-all",children:e.jsx(Ae,{className:"w-4 h-4"})})]})]}),E===2&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>te.current?.click(),className:"px-3 py-2 text-sm bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-gray-300 hover:border-blue-500/50 transition-all text-left truncate",children:A?A.name:t("nspForwarder.form.logo.select")}),e.jsx("button",{onClick:()=>re.current?.click(),className:"px-3 py-2 text-sm bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-gray-300 hover:border-blue-500/50 transition-all text-left truncate",children:R?R.name:t("nspForwarder.form.animation.select")}),e.jsx("input",{ref:te,type:"file",accept:"image/*",onChange:s=>ge(s.target.files?.[0]||null),className:"hidden"}),e.jsx("input",{ref:re,type:"file",accept:"video/*,.gif",onChange:s=>he(s.target.files?.[0]||null),className:"hidden"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 pt-3 border-t border-blue-500/20",children:[{checked:H,setter:be,label:t("nspForwarder.form.options.screenshots")},{checked:K,setter:xe,label:t("nspForwarder.form.options.videoCapture")},{checked:W,setter:pe,label:t("nspForwarder.form.options.profileSelector")},{checked:z,setter:fe,label:t("nspForwarder.form.options.svcDebug")}].map((s,m)=>e.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-all text-sm ${s.checked?"bg-blue-500/10 border border-blue-500/30":"bg-gray-900/30 border border-gray-700/30"}`,children:[e.jsx("input",{type:"checkbox",checked:s.checked,onChange:h=>s.setter(h.target.checked),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-gray-300",children:s.label})]},m))})]})})})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gray-800/90 backdrop-blur-xl rounded-xl border border-blue-500/20 p-6 shadow-xl",children:e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r==="nro"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t("nspForwarder.form.appTitle.label")}),e.jsx("input",{type:"text",value:v,onChange:s=>C(s.target.value),placeholder:t("nspForwarder.form.appTitle.placeholder"),className:"w-full px-4 py-3 bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition-all duration-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t("nspForwarder.form.publisher.label")}),e.jsx("input",{type:"text",value:F,onChange:s=>j(s.target.value),placeholder:t("nspForwarder.form.publisher.placeholder"),className:"w-full px-4 py-3 bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition-all duration-300"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t("nspForwarder.form.nroPath.label")}),e.jsx("input",{type:"text",value:S,onChange:s=>w(s.target.value),placeholder:"/switch/appstore/appstore.nro",className:"w-full px-4 py-3 bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition-all duration-300 font-mono text-sm"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t("nspForwarder.form.gameTitle.label")}),e.jsx("input",{type:"text",value:u,onChange:s=>B(s.target.value),placeholder:t("nspForwarder.form.gameTitle.placeholder"),className:"w-full px-4 py-3 bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition-all duration-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t("nspForwarder.form.publisher.label")}),e.jsx("input",{type:"text",value:$,onChange:s=>ce(s.target.value),placeholder:t("nspForwarder.form.publisher.placeholder"),className:"w-full px-4 py-3 bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition-all duration-300"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t("nspForwarder.form.corePath.label")}),e.jsx("input",{type:"text",value:D,onChange:s=>de(s.target.value),placeholder:"/retroarch/cores/snes9x_libretro_libnx.nro",className:"w-full px-4 py-3 bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition-all duration-300 font-mono text-sm"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t("nspForwarder.form.romPath.label")}),e.jsx("input",{type:"text",value:M,onChange:s=>ue(s.target.value),placeholder:"/ROMs/SNES/Super Mario World.smc",className:"w-full px-4 py-3 bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition-all duration-300 font-mono text-sm"})]})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:[t("nspForwarder.form.prodKeys.label"),e.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),e.jsxs("button",{onClick:()=>ee.current?.click(),className:`w-full px-4 py-3 rounded-xl transition-all text-left flex items-center justify-between ${f?"bg-green-500/10 border-2 border-green-500/30 text-green-300":"bg-gray-700/50 backdrop-blur-sm border-2 border-blue-500/30 text-gray-300 hover:border-blue-500/50"}`,children:[e.jsx("span",{className:"truncate text-sm",children:f?f.name:t("nspForwarder.form.prodKeys.select")}),f&&e.jsx(ne,{className:"w-5 h-5 text-green-400 flex-shrink-0"})]}),e.jsx("input",{ref:ee,type:"file",accept:".keys",onChange:je,className:"hidden"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("nspForwarder.form.prodKeys.help")})]}),e.jsx(_,{children:d&&e.jsx(x.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Re,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-200",children:d})]})})}),e.jsx(x.button,{onClick:Fe,disabled:a,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white font-semibold rounded-xl shadow-lg shadow-blue-500/20 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":t(a?"nspForwarder.buttons.generating":"nspForwarder.buttons.generate"),"aria-busy":a,children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin","aria-hidden":"true"}),e.jsx("span",{children:t("nspForwarder.buttons.generating")})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-5 h-5","aria-hidden":"true"}),e.jsx("span",{children:t("nspForwarder.buttons.generate")})]})}),e.jsxs("div",{className:"pt-4 border-t border-blue-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ae,{className:"w-4 h-4 text-blue-400"}),e.jsx("h3",{className:"text-sm font-semibold text-blue-300",children:t("nspForwarder.instructions.title")})]}),e.jsx("ul",{className:"space-y-2 text-gray-300",children:[1,2,3,4].map(s=>e.jsxs("li",{className:"flex gap-2.5 text-sm",children:[e.jsx("span",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-blue-500/20 text-blue-400 flex items-center justify-center text-xs font-bold",children:s}),e.jsx("span",{children:t(`nspForwarder.instructions.step${s}`)})]},s))})]})]})})})]})]})]})})};export{Je as default};
